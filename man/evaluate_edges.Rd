% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/route.R
\name{evaluate_edges}
\alias{evaluate_edges}
\title{Evaluate whether edges pass through objects}
\usage{
evaluate_edges(segments, background, space_between, cpp = TRUE)
}
\arguments{
\item{segments}{Named matrix or dataframe containing the ids of the nodes 
under column names \code{"from"} and \code{"to"}, and their coordinates under 
\code{"from_x"}, \code{"from_y"}, \code{"to_x"}, and \code{"to_y"}.}

\item{background}{Object of the \code{\link[predped]{background-class}}.}

\item{space_between}{Numeric denoting the space that should be left between 
an object and the created path points for the agents.}

\item{cpp}{Logical denoting whether to use the Rcpp alternative (\code{TRUE})
or the R alternative of this function (\code{FALSE}). Defaults to \code{TRUE}.}
}
\value{
List containing a dataframe with the surviving connections between 
the nodes under \code{"edges"} and a similar dataframe also containing the 
coordinates under \code{"edges_with_coords"}.
}
\description{
This function evaluates whether the connections that are made between nodes 
are reachable, that is that the paths are not blocked by any objects. This 
also accounts for the one-way blockages that are present in the 
\code{limited_access} slot of the \code{\link[predped]{background-class}}.
}
\details{
In this function, a lot of the heavy lifting is done by the 
\code{\link[predped]{line_intersection}} method and the 
\code{\link[predped]{prune_edges}} function.
}
\examples{
# Let's create a background
my_background <- background(shape = rectangle(center = c(0, 0), 
                                              size = c(2, 2)), 
                            objects = list(rectangle(center = c(0, 0), 
                                                     size = c(1, 1))))

# Create some segments that do and do not go through the objects in the 
# background
potential_edges <- data.frame(from = c("node 1", "node 2", "node 3"), 
                              from_x = c(-0.75, -0.75, -0.75), 
                              from_y = c(0, 0, 0),
                              to = c("node 4", "node 5", "node 6"),
                              to_x = c(-0.75, 0.75, 0.95), 
                              to_y = c(0.75, 0, 0.95))
head(potential_edges)

# Only retain the edges that don't intersect the object
surviving_edges <- evaluate_edges(potential_edges, 
                                  my_background,
                                  space_between = 0)
head(surviving_edges$edges_with_coords)

}
\seealso{
\code{\link[predped]{adjust_edges}},
\code{\link[predped]{create_edges}},
\code{\link[predped]{prune_edges}},
\code{\link[predped]{line_intersection}}
}
