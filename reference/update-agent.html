<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Update Agent — update,agent-method • predped</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Update Agent — update,agent-method"><meta property="og:description" content="Update the current agent by first updating its goal status (i.e., checking
how and whether an agent can start interacting with a goal, has to reorient,
etc) and then updating its position (i.e., using the utility functions to
determine where the agent will move next)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script type="text/javascript" async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar- navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">predped</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Usage

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/m4ma.html">M4MA</a>
    </li>
    <li>
      <a href="../articles/workflow.html">Workflow</a>
    </li>
    <li>
      <a href="../articles/simulation.html">Advanced Simulation</a>
    </li>
    <li>
      <a href="../articles/estimation.html">Estimation</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ndpvh/predped/">
    <span class="fa fa-github"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Update Agent</h1>
    <small class="dont-index">Source: <a href="https://github.com/ndpvh/predped/tree/main/R/update.R"><code>R/update.R</code></a></small>
    <div class="hidden name"><code>update-agent.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Update the current agent by first updating its goal status (i.e., checking
how and whether an agent can start interacting with a goal, has to reorient,
etc) and then updating its position (i.e., using the utility functions to
determine where the agent will move next).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for class 'agent'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/update.html" class="external-link">update</a></span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  <span class="va">state</span>,</span>
<span>  <span class="va">background</span>,</span>
<span>  <span class="va">agent_specifications</span>,</span>
<span>  <span class="va">seen</span>,</span>
<span>  velocities <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.5</span>, <span class="fl">1</span>, <span class="fl">0.5</span><span class="op">)</span>, each <span class="op">=</span> <span class="fl">11</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>  orientations <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">72.5</span>, <span class="fl">50</span>, <span class="fl">32.5</span>, <span class="fl">20</span>, <span class="fl">10</span>, <span class="fl">0</span>, <span class="fl">350</span>, <span class="fl">340</span>, <span class="fl">327.5</span>, <span class="fl">310</span>, <span class="fl">287.5</span><span class="op">)</span>,</span>
<span>    times <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>  close_enough <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  space_between <span class="op">=</span> <span class="fl">1.25</span>,</span>
<span>  precomputed_edges <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  many_nodes <span class="op">=</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">precomputed_edges</span><span class="op">)</span>,</span>
<span>  adaptive_goal_sorting <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  standing_start <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  time_step <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  report <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  print_iteration <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  cpp <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>Object of the <code><a href="agent-class.html">agent-class</a></code>.</p></dd>


<dt id="arg-state">state<a class="anchor" aria-label="anchor" href="#arg-state"></a></dt>
<dd><p>Object of the <code><a href="state-class.html">state-class</a></code>.</p></dd>


<dt id="arg-background">background<a class="anchor" aria-label="anchor" href="#arg-background"></a></dt>
<dd><p>Object of the <code><a href="background-class.html">background-class</a></code>.</p></dd>


<dt id="arg-agent-specifications">agent_specifications<a class="anchor" aria-label="anchor" href="#arg-agent-specifications"></a></dt>
<dd><p>List created by the
<code><a href="create_agent_specifications.html">create_agent_specifications</a></code> function. Contains all
information of all agents within the current <code>state</code> and allows for the
communication between the <code>predped</code> simulation functions and the
<code>m4ma</code> utility functions.</p></dd>


<dt id="arg-seen">seen<a class="anchor" aria-label="anchor" href="#arg-seen"></a></dt>
<dd><p>Logical indicating whether the agent can see the path point
to which they are currently moving.</p></dd>


<dt id="arg-velocities">velocities<a class="anchor" aria-label="anchor" href="#arg-velocities"></a></dt>
<dd><p>Numeric matrix containing the change in speed for an agent
whenever they move to the respective cell of this matrix. Is used to create
the cell positions that the agent might move to. Defaults to a matrix in
which the columns contain <code>1.5</code> (acceleration), <code>1</code>, and <code>0.5</code>.</p></dd>


<dt id="arg-orientations">orientations<a class="anchor" aria-label="anchor" href="#arg-orientations"></a></dt>
<dd><p>Numeric matrix containing the change in direction for an
agent whenever they move to the respective cell of this matrix. Is used to
create the cell positions that the agent might move to. Defaults to a matrix
in which the rows contain <code>72.5</code>, <code>50</code>, <code>32.5</code>, <code>20</code>,
<code>10</code>, <code>0</code>, <code>350</code>, <code>340</code>, <code>327.5</code>, <code>310</code>,
<code>287.5</code> (note that the larger angles are actually the negative symmetric
versions of the smaller angles).</p></dd>


<dt id="arg-close-enough">close_enough<a class="anchor" aria-label="anchor" href="#arg-close-enough"></a></dt>
<dd><p>Numeric denoting how close (in radii) the agent needs to
be to an object in order to interact with it. Defaults to <code>2</code>, meaning the
agent can interact with objects at <code>2 * radius(agent)</code> distance away.</p></dd>


<dt id="arg-space-between">space_between<a class="anchor" aria-label="anchor" href="#arg-space-between"></a></dt>
<dd><p>Numeric denoting the space that should be left between
an object and the created path points for the agents (in radii). Defaults to
<code>2.5</code>, meaning a space of <code>2.5 * radius(agent)</code> is left between an
object and the path points agents use in their strategy.</p></dd>


<dt id="arg-precomputed-edges">precomputed_edges<a class="anchor" aria-label="anchor" href="#arg-precomputed-edges"></a></dt>
<dd><p>Output of <code><a href="compute_edges.html">compute_edges</a></code>
containing the nodes and edges the agent can use to plan its path. Defauls
to <code>NULL</code>, triggering the creation of these edges whenever they are
needed.</p></dd>


<dt id="arg-many-nodes">many_nodes<a class="anchor" aria-label="anchor" href="#arg-many-nodes"></a></dt>
<dd><p>Logical denoting whether to use the minimal number of nodes
or to use many more (see <code><a href="create_edges.html">create_edges</a></code>). Ignored if
<code>precomputed_edges</code> is provided. Defaults to <code>FALSE</code>.</p></dd>


<dt id="arg-adaptive-goal-sorting">adaptive_goal_sorting<a class="anchor" aria-label="anchor" href="#arg-adaptive-goal-sorting"></a></dt>
<dd><p>Logical denoting whether agents have the ability
to change the order of their goals adaptively throughout the simulation.
Defaults to <code>TRUE</code>.</p></dd>


<dt id="arg-standing-start">standing_start<a class="anchor" aria-label="anchor" href="#arg-standing-start"></a></dt>
<dd><p>Numeric denoting the factor of their preferred speed
that agents move when they just came from standing still. Defaults to
<code>0.1</code>.</p></dd>


<dt id="arg-time-step">time_step<a class="anchor" aria-label="anchor" href="#arg-time-step"></a></dt>
<dd><p>Numeric denoting the number of seconds each discrete step in
time should mimic. Defaults to <code>0.5</code>, or half a second.</p></dd>


<dt id="arg-report">report<a class="anchor" aria-label="anchor" href="#arg-report"></a></dt>
<dd><p>Logical denoting whether to report whenever an agent is
reorienting. Defaults to <code>FALSE</code>, and is usually not needed as feedback.</p></dd>


<dt id="arg-print-iteration">print_iteration<a class="anchor" aria-label="anchor" href="#arg-print-iteration"></a></dt>
<dd><p>Logical denoting whether to report each simulated
iteration. Defaults to <code>FALSE</code>, but can be switched off if desired.</p></dd>


<dt id="arg-cpp">cpp<a class="anchor" aria-label="anchor" href="#arg-cpp"></a></dt>
<dd><p>Logical denoting whether to use the Rcpp alternatives for several
of the lower-level functions (<code>TRUE</code>) or whether to use the R alternatives
instead (<code>FALSE</code>). Defaults to <code>TRUE</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Object of the <code><a href="agent-class.html">agent-class</a></code>.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/r/stats/simulate.html" class="external-link">simulate</a></code>,
<code>simulate.state</code>,
<code><a href="https://rdrr.io/r/stats/update.html" class="external-link">update</a></code>,
<code><a href="update_goal.html">update_goal</a></code>,
<code><a href="update_position.html">update_position</a></code></p></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://ndpvh.github.io" class="external-link">Niels Vanhasbroeck</a>, <a href="https://www.ampl-psych.com/team/andrew-heathcote/" class="external-link">Andrew Heathcote</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer></div>






  </body></html>

