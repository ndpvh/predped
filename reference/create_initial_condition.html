<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Create initial condition — create_initial_condition • predped</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Create initial condition — create_initial_condition"><meta property="og:description" content="Creates a list of agents that can be used as an initial condition to the
simulation. Agents are placed at random locations in the room. Main
advantage of this function is that you don't have to wait for a room to fill
up with the required number of agents, but rather impose that the room is
already filled with this number of agents."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script type="text/javascript" async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar- navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">predped</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Usage

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/m4ma.html">M4MA</a>
    </li>
    <li>
      <a href="../articles/workflow.html">Workflow</a>
    </li>
    <li>
      <a href="../articles/simulation.html">Advanced Simulation</a>
    </li>
    <li>
      <a href="../articles/estimation.html">Estimation</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ndpvh/predped/">
    <span class="fa fa-github"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create initial condition</h1>
    <small class="dont-index">Source: <a href="https://github.com/ndpvh/predped/tree/main/R/simulate.R"><code>R/simulate.R</code></a></small>
    <div class="hidden name"><code>create_initial_condition.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Creates a list of agents that can be used as an initial condition to the
simulation. Agents are placed at random locations in the room. Main
advantage of this function is that you don't have to wait for a room to fill
up with the required number of agents, but rather impose that the room is
already filled with this number of agents.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">create_initial_condition</span><span class="op">(</span></span>
<span>  <span class="va">agent_number</span>,</span>
<span>  <span class="va">model</span>,</span>
<span>  goal_number <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, <span class="fl">10</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  group_size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">1</span>, nrow <span class="op">=</span> <span class="fl">1</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span>
<span>  space_between <span class="op">=</span> <span class="fl">1.25</span>,</span>
<span>  precomputed_edges <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cpp <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-agent-number">agent_number<a class="anchor" aria-label="anchor" href="#arg-agent-number"></a></dt>
<dd><p>Numeric denoting the number of agents that should be
included in the initial condition.</p></dd>


<dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>Object of the <code><a href="predped-class.html">predped-class</a></code>.</p></dd>


<dt id="arg-goal-number">goal_number<a class="anchor" aria-label="anchor" href="#arg-goal-number"></a></dt>
<dd><p>Numeric, vector, or function that defines the number of
goals the agents should accomplish. It's exact value is handled by
<code><a href="determine_values.html">determine_values</a></code>. Defaults to <code>\(n) rnorm(n, 10, 2)</code>.</p></dd>


<dt id="arg-group-size">group_size<a class="anchor" aria-label="anchor" href="#arg-group-size"></a></dt>
<dd><p>Matrix of size n x 2 containing the group sizes you would
like to simulate (first column) and the probability of observing groups with
this size (second column). Defaults to a 100<!-- % probability of observing single -->
agents.</p></dd>


<dt id="arg-space-between">space_between<a class="anchor" aria-label="anchor" href="#arg-space-between"></a></dt>
<dd><p>Numeric denoting the space that should be left between
an object and the created path points for the agents (in radii). Defaults to
<code>2.5</code>, meaning a space of <code>2.5 * radius(agent)</code> is left between an
object and the path points agents use in their strategy. Ignored if
<code>precomputed_edges</code> is provided.</p></dd>


<dt id="arg-precomputed-edges">precomputed_edges<a class="anchor" aria-label="anchor" href="#arg-precomputed-edges"></a></dt>
<dd><p>Output of <code><a href="compute_edges.html">compute_edges</a></code>
containing the nodes and edges the agent can use to plan its path. Defauls
to <code>NULL</code>, triggering the creation of these edges whenever they are
needed.</p></dd>


<dt id="arg-cpp">cpp<a class="anchor" aria-label="anchor" href="#arg-cpp"></a></dt>
<dd><p>Logical denoting whether to use the Rcpp (<code>TRUE</code>) or R
(<code>FALSE</code>) alternatives for the lower-level functions. Defaults to
<code>TRUE</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments provided to <code><a href="add_agent.html">add_agent</a></code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>List of instances of the <code><a href="agent-class.html">agent-class</a></code>.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>In this function, we use the following approach to simulate an initial
condition. First, we create an agent using the <code><a href="add_agent.html">add_agent</a></code>
function. This agent is given a specific group id based on the
<code>group_size</code> argument.</p>
<p>Once created, we then compute all possible paths that the agent may be
walking on through the <code><a href="compute_edges.html">compute_edges</a></code> function. One
of these paths is then chosen, and subsequently a random point on that path
is chosen. We then check whether an agent would be able to take the chosen
position without intersecting any of the objects in the environment. If not,
then we choose another point until we can place the agent there. If we do not
find a fitting position for the agent after 10 iterations, we break out of
the loop and stop trying to fit in <code>agent_number</code> agents in the space.</p>
<p>Finally, group members are identified and given the same set of goals.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="agent-class.html">agent-class</a></code>,
<code><a href="predped-class.html">predped-class</a></code>,
<code><a href="add_agent.html">add_agent</a></code>,
<code><a href="https://rdrr.io/r/stats/simulate.html" class="external-link">simulate</a></code>,
<code><a href="https://rdrr.io/r/stats/simulate.html" class="external-link">simulate</a></code></p></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://ndpvh.github.io" class="external-link">Niels Vanhasbroeck</a>, <a href="https://www.ampl-psych.com/team/andrew-heathcote/" class="external-link">Andrew Heathcote</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer></div>






  </body></html>

