<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create initial condition — create_initial_condition • predped</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create initial condition — create_initial_condition"><meta name="description" content="Creates a list of agents that can be used as an initial condition to the
simulation. Agents are placed at random locations in the room. Main
advantage of this function is that you don't have to wait for a room to fill
up with the required number of agents, but rather impose that the room is
already filled with this number of agents."><meta property="og:description" content="Creates a list of agents that can be used as an initial condition to the
simulation. Agents are placed at random locations in the room. Main
advantage of this function is that you don't have to wait for a room to fill
up with the required number of agents, but rather impose that the room is
already filled with this number of agents."><script type="text/javascript" async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">predped</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-usage" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Usage</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-usage"><li><a class="dropdown-item" href="../articles/m4ma.html">M4MA</a></li>
    <li><a class="dropdown-item" href="../articles/workflow.html">Workflow</a></li>
    <li><a class="dropdown-item" href="../articles/simulation.html">Advanced Simulation</a></li>
    <li><a class="dropdown-item" href="../articles/estimation.html">Estimation</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/ndpvh/predped/" aria-label="Github"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Create initial condition</h1>
      <small class="dont-index">Source: <a href="https://github.com/ndpvh/predped/tree/main/R/simulate.R"><code>R/simulate.R</code></a></small>
      <div class="d-none name"><code>create_initial_condition.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Creates a list of agents that can be used as an initial condition to the
simulation. Agents are placed at random locations in the room. Main
advantage of this function is that you don't have to wait for a room to fill
up with the required number of agents, but rather impose that the room is
already filled with this number of agents.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">create_initial_condition</span><span class="op">(</span></span>
<span>  <span class="va">agent_number</span>,</span>
<span>  <span class="va">model</span>,</span>
<span>  goal_number <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, <span class="fl">10</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  group_size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">1</span>, nrow <span class="op">=</span> <span class="fl">1</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span>
<span>  space_between <span class="op">=</span> <span class="fl">1.25</span>,</span>
<span>  precomputed_edges <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cpp <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-agent-number">agent_number<a class="anchor" aria-label="anchor" href="#arg-agent-number"></a></dt>
<dd><p>Numeric denoting the number of agents that should be
included in the initial condition.</p></dd>


<dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>Object of the <code><a href="predped-class.html">predped-class</a></code>.</p></dd>


<dt id="arg-goal-number">goal_number<a class="anchor" aria-label="anchor" href="#arg-goal-number"></a></dt>
<dd><p>Numeric, vector, or function that defines the number of
goals the agents should accomplish. It's exact value is handled by
<code><a href="determine_values.html">determine_values</a></code>. Defaults to <code>\(n) rnorm(n, 10, 2)</code>.</p></dd>


<dt id="arg-group-size">group_size<a class="anchor" aria-label="anchor" href="#arg-group-size"></a></dt>
<dd><p>Matrix of size n x 2 containing the group sizes you would
like to simulate (first column) and the probability of observing groups with
this size (second column). Defaults to a 100<!-- % probability of observing single -->
agents.</p></dd>


<dt id="arg-space-between">space_between<a class="anchor" aria-label="anchor" href="#arg-space-between"></a></dt>
<dd><p>Numeric denoting the space that should be left between
an object and the created path points for the agents (in radii). Defaults to
<code>2.5</code>, meaning a space of <code>2.5 * radius(agent)</code> is left between an
object and the path points agents use in their strategy. Ignored if
<code>precomputed_edges</code> is provided.</p></dd>


<dt id="arg-precomputed-edges">precomputed_edges<a class="anchor" aria-label="anchor" href="#arg-precomputed-edges"></a></dt>
<dd><p>Output of <code><a href="compute_edges.html">compute_edges</a></code>
containing the nodes and edges the agent can use to plan its path. Defauls
to <code>NULL</code>, triggering the creation of these edges whenever they are
needed.</p></dd>


<dt id="arg-cpp">cpp<a class="anchor" aria-label="anchor" href="#arg-cpp"></a></dt>
<dd><p>Logical denoting whether to use the Rcpp (<code>TRUE</code>) or R
(<code>FALSE</code>) alternatives for the lower-level functions. Defaults to
<code>TRUE</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments provided to <code><a href="add_agent.html">add_agent</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>List of instances of the <code><a href="agent-class.html">agent-class</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>In this function, we use the following approach to simulate an initial
condition. First, we create an agent using the <code><a href="add_agent.html">add_agent</a></code>
function. This agent is given a specific group id based on the
<code>group_size</code> argument.</p>
<p>Once created, we then compute all possible paths that the agent may be
walking on through the <code><a href="compute_edges.html">compute_edges</a></code> function. One
of these paths is then chosen, and subsequently a random point on that path
is chosen. We then check whether an agent would be able to take the chosen
position without intersecting any of the objects in the environment. If not,
then we choose another point until we can place the agent there. If we do not
find a fitting position for the agent after 10 iterations, we break out of
the loop and stop trying to fit in <code>agent_number</code> agents in the space.</p>
<p>Finally, group members are identified and given the same set of goals.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="agent-class.html">agent-class</a></code>,
<code><a href="predped-class.html">predped-class</a></code>,
<code><a href="add_agent.html">add_agent</a></code>,
<code><a href="https://rdrr.io/r/stats/simulate.html" class="external-link">simulate</a></code>,
<code><a href="https://rdrr.io/r/stats/simulate.html" class="external-link">simulate</a></code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://ndpvh.github.io" class="external-link">Niels Vanhasbroeck</a>, <a href="https://www.ampl-psych.com/team/andrew-heathcote/" class="external-link">Andrew Heathcote</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

