<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>An S4 class to Represent Lines — segment-class • predped</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="An S4 class to Represent Lines — segment-class"><meta name="description" content="Lines are used to determine intersections and to prevent pedestrians from
walking certain ways."><meta property="og:description" content="Lines are used to determine intersections and to prevent pedestrians from
walking certain ways."><script type="text/javascript" async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">predped</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-usage" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Usage</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-usage"><li><a class="dropdown-item" href="../articles/m4ma.html">M4MA</a></li>
    <li><a class="dropdown-item" href="../articles/workflow.html">Workflow</a></li>
    <li><a class="dropdown-item" href="../articles/simulation.html">Advanced Simulation</a></li>
    <li><a class="dropdown-item" href="../articles/estimation.html">Estimation</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/ndpvh/predped/" aria-label="Github"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>An S4 class to Represent Lines</h1>
      <small class="dont-index">Source: <a href="https://github.com/ndpvh/predped/tree/main/R/objects.R"><code>R/objects.R</code></a></small>
      <div class="d-none name"><code>segment-class.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Lines are used to determine intersections and to prevent pedestrians from
walking certain ways.</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>It is important to realize exactly how it is determined whether agents can
move through a segment or not before constructing or using these segments in
your environment. For this, consider the following logic.</p>
<p>Consider the <code>from</code> slot to be the center of a circle. Furthermore
consider the radius of this circle to be equal to the <code>size</code> slot, and
the <code>orientation</code> of the segment to be determined by the positions of
the <code>from</code> and <code>to</code> slots, so that we look at the orientation of
the location of <code>to</code> relative to the location of <code>from</code>. This is
how the <code>segment-class</code> is constructed, and is an
important starting point for determining when pedestrians can and cannot
move through a segment.</p>
<p>Consider another point in the Euclidian space, so that it has a position
P = (x, y). Now we compute the relative angle of this coordinate within the
circle that is defined by the <code>from</code> and <code>to</code> slots. In other words,
we compute the absolute angle of coordinate P relative to <code>from</code> –
let's call this \(\alpha\) – and then subtract the orientation of the line
from this to get a relative angle within the circle defined by the
segment – let's call the result \(\beta = \alpha - orientation\).
We then block an agent whenever \(\beta \in (0, pi)\), and let him pass
through whenever \(\beta \in [pi, 2 * pi]\).</p>
<p>To gain some intuition for this: If you create a segment that is vertical,
where <code>from</code> has a lower y-coordinate than <code>to</code> (e.g.,
<code>from = c(0, 0)</code> and <code>to = c(0, 1)</code>), then agents will be blocked
whenever they find themselves to the left of this segment, while
they will be able to pass through the segment whenever they are to the
right of this segment.</p>
    </div>
    <div class="section level2">
    <h2 id="slots">Slots<a class="anchor" aria-label="anchor" href="#slots"></a></h2>


<dl><dt><code>from</code></dt>
<dd><p>Numeric vector denoting where the segment begins.</p></dd>


<dt><code>to</code></dt>
<dd><p>Numeric vector denoting where the segment ends.</p></dd>


<dt><code>center</code></dt>
<dd><p>Numeric vector denoting the center of the segment.</p></dd>


<dt><code>size</code></dt>
<dd><p>Numeric denoting the length of the segment.</p></dd>


<dt><code>orientation</code></dt>
<dd><p>Numeric denoting the orientation of the segment in radians.</p></dd>


<dt><code>...</code></dt>
<dd><p>Slots that are inherited from <code><a href="object-class.html">object-class</a></code></p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="object-class.html">object-class</a></code>,
<code>initialize-segment</code>,
<code><a href="limit_access.html">limit_access</a></code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://ndpvh.github.io" class="external-link">Niels Vanhasbroeck</a>, <a href="https://www.ampl-psych.com/team/andrew-heathcote/" class="external-link">Andrew Heathcote</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

