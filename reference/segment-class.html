<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>An S4 class to Represent Lines — segment-class • predped</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="An S4 class to Represent Lines — segment-class"><meta property="og:description" content="Lines are used to determine intersections and to prevent pedestrians from
walking certain ways."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script type="text/javascript" async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar- navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">predped</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Usage

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/m4ma.html">M4MA</a>
    </li>
    <li>
      <a href="../articles/workflow.html">Workflow</a>
    </li>
    <li>
      <a href="../articles/simulation.html">Advanced Simulation</a>
    </li>
    <li>
      <a href="../articles/estimation.html">Estimation</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ndpvh/predped/">
    <span class="fa fa-github"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>An S4 class to Represent Lines</h1>
    <small class="dont-index">Source: <a href="https://github.com/ndpvh/predped/tree/main/R/objects.R"><code>R/objects.R</code></a></small>
    <div class="hidden name"><code>segment-class.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Lines are used to determine intersections and to prevent pedestrians from
walking certain ways.</p>
    </div>


    <div id="details">
    <h2>Details</h2>
    <p>It is important to realize exactly how it is determined whether agents can
move through a segment or not before constructing or using these segments in
your environment. For this, consider the following logic.</p>
<p>Consider the <code>from</code> slot to be the center of a circle. Furthermore
consider the radius of this circle to be equal to the <code>size</code> slot, and
the <code>orientation</code> of the segment to be determined by the positions of
the <code>from</code> and <code>to</code> slots, so that we look at the orientation of
the location of <code>to</code> relative to the location of <code>from</code>. This is
how the <code>segment-class</code> is constructed, and is an
important starting point for determining when pedestrians can and cannot
move through a segment.</p>
<p>Consider another point in the Euclidian space, so that it has a position
P = (x, y). Now we compute the relative angle of this coordinate within the
circle that is defined by the <code>from</code> and <code>to</code> slots. In other words,
we compute the absolute angle of coordinate P relative to <code>from</code> –
let's call this \(\alpha\) – and then subtract the orientation of the line
from this to get a relative angle within the circle defined by the
segment – let's call the result \(\beta = \alpha - orientation\).
We then block an agent whenever \(\beta \in (0, pi)\), and let him pass
through whenever \(\beta \in [pi, 2 * pi]\).</p>
<p>To gain some intuition for this: If you create a segment that is vertical,
where <code>from</code> has a lower y-coordinate than <code>to</code> (e.g.,
<code>from = c(0, 0)</code> and <code>to = c(0, 1)</code>), then agents will be blocked
whenever they find themselves to the left of this segment, while
they will be able to pass through the segment whenever they are to the
right of this segment.</p>
    </div>
    <div id="slots">
    <h2>Slots</h2>


<dl><dt><code>from</code></dt>
<dd><p>Numeric vector denoting where the segment begins.</p></dd>


<dt><code>to</code></dt>
<dd><p>Numeric vector denoting where the segment ends.</p></dd>


<dt><code>center</code></dt>
<dd><p>Numeric vector denoting the center of the segment.</p></dd>


<dt><code>size</code></dt>
<dd><p>Numeric denoting the length of the segment.</p></dd>


<dt><code>orientation</code></dt>
<dd><p>Numeric denoting the orientation of the segment in radians.</p></dd>


<dt><code>...</code></dt>
<dd><p>Slots that are inherited from <code><a href="object-class.html">object-class</a></code></p></dd>


</dl></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="object-class.html">object-class</a></code>,
<code>initialize-segment</code>,
<code><a href="limit_access.html">limit_access</a></code></p></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://ndpvh.github.io" class="external-link">Niels Vanhasbroeck</a>, <a href="https://www.ampl-psych.com/team/andrew-heathcote/" class="external-link">Andrew Heathcote</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer></div>






  </body></html>

